{"ast":null,"code":"export const reducer = (state, action) => {\n  //   if (action.type === \"REMOVE_ITEM\") {\n  //     return {\n  //       ...state,\n  //       item: state.item.filter((curElem) => {\n  //         return curElem.id !== action.payload;\n  //       }),\n  //     };\n  //   }\n  if (action.type === \"REMOVE_CART\") {\n    return { ...state,\n      cart: state.cart.filter(curElem => {\n        return curElem.id !== action.payload;\n      })\n    };\n  } //   if (action.type === \"CLEAR_CART\") {\n  //     return { ...state, item: [] };\n  //   }\n\n\n  if (action.type === \"ADD_TO_CART\") {\n    return { ...state,\n      cart: [...state.cart, { ...action.payload,\n        quantity: 1\n      }]\n    };\n  }\n\n  if (action.type === \"INCREMENT\") {\n    const updatedCart = state.cart.map(curElem => {\n      if (curElem.id === action.payload) {\n        return { ...curElem,\n          quantity: curElem.quantity + 1\n        };\n      }\n\n      return curElem;\n    });\n    return { ...state,\n      cart: updatedCart\n    };\n  }\n\n  if (action.type === \"DECREMENT\") {\n    const updatedCart = state.cart.map(curElem => {\n      if (curElem.id === action.payload) {\n        return { ...curElem,\n          quantity: curElem.quantity - 1\n        };\n      }\n\n      return curElem;\n    }).filter(curElem => curElem.quantity !== 0);\n    return { ...state,\n      cart: updatedCart\n    };\n  }\n\n  if (action.type === \"GET_TOTAL\") {\n    let {\n      totalItem,\n      totalAmount\n    } = state.cart.reduce((accum, curVal) => {\n      let {\n        price,\n        quantity\n      } = curVal;\n      let updatedTotalAmount = price * quantity;\n      accum.totalAmount += updatedTotalAmount;\n      accum.totalItem += quantity;\n      return accum;\n    }, {\n      totalItem: 0,\n      totalAmount: 0\n    });\n    return { ...state,\n      totalItem,\n      totalAmount\n    };\n  }\n\n  return state;\n};","map":{"version":3,"sources":["C:/Users/Web-Design/Desktop/pizza/pizza-menu/src/context/reducer.js"],"names":["reducer","state","action","type","cart","filter","curElem","id","payload","quantity","updatedCart","map","totalItem","totalAmount","reduce","accum","curVal","price","updatedTotalAmount"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAIA,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACjC,WAAO,EACL,GAAGF,KADE;AAELG,MAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWC,MAAX,CAAmBC,OAAD,IAAa;AACnC,eAAOA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAA7B;AACD,OAFK;AAFD,KAAP;AAMD,GAjBuC,CAmBxC;AACA;AACA;;;AAEA,MAAIN,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACjC,WAAO,EACL,GAAGF,KADE;AAELG,MAAAA,IAAI,EAAE,CAAC,GAAGH,KAAK,CAACG,IAAV,EAAgB,EAAE,GAAGF,MAAM,CAACM,OAAZ;AAAqBC,QAAAA,QAAQ,EAAE;AAA/B,OAAhB;AAFD,KAAP;AAID;;AAED,MAAIP,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;AAC/B,UAAMO,WAAW,GAAGT,KAAK,CAACG,IAAN,CAAWO,GAAX,CAAgBL,OAAD,IAAa;AAC9C,UAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAA1B,EAAmC;AACjC,eAAO,EAAE,GAAGF,OAAL;AAAcG,UAAAA,QAAQ,EAAEH,OAAO,CAACG,QAAR,GAAmB;AAA3C,SAAP;AACD;;AACD,aAAOH,OAAP;AACD,KALmB,CAApB;AAOA,WAAO,EAAE,GAAGL,KAAL;AAAYG,MAAAA,IAAI,EAAEM;AAAlB,KAAP;AACD;;AAED,MAAIR,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;AAC/B,UAAMO,WAAW,GAAGT,KAAK,CAACG,IAAN,CACjBO,GADiB,CACZL,OAAD,IAAa;AAChB,UAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAA1B,EAAmC;AACjC,eAAO,EAAE,GAAGF,OAAL;AAAcG,UAAAA,QAAQ,EAAEH,OAAO,CAACG,QAAR,GAAmB;AAA3C,SAAP;AACD;;AACD,aAAOH,OAAP;AACD,KANiB,EAOjBD,MAPiB,CAOTC,OAAD,IAAaA,OAAO,CAACG,QAAR,KAAqB,CAPxB,CAApB;AAQA,WAAO,EAAE,GAAGR,KAAL;AAAYG,MAAAA,IAAI,EAAEM;AAAlB,KAAP;AACD;;AAED,MAAIR,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;AAC/B,QAAI;AAAES,MAAAA,SAAF;AAAaC,MAAAA;AAAb,QAA6BZ,KAAK,CAACG,IAAN,CAAWU,MAAX,CAC/B,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjB,UAAI;AAAEC,QAAAA,KAAF;AAASR,QAAAA;AAAT,UAAsBO,MAA1B;AAEA,UAAIE,kBAAkB,GAAGD,KAAK,GAAGR,QAAjC;AACAM,MAAAA,KAAK,CAACF,WAAN,IAAqBK,kBAArB;AAEAH,MAAAA,KAAK,CAACH,SAAN,IAAmBH,QAAnB;AACA,aAAOM,KAAP;AACD,KAT8B,EAU/B;AACEH,MAAAA,SAAS,EAAE,CADb;AAEEC,MAAAA,WAAW,EAAE;AAFf,KAV+B,CAAjC;AAeA,WAAO,EAAE,GAAGZ,KAAL;AAAYW,MAAAA,SAAZ;AAAuBC,MAAAA;AAAvB,KAAP;AACD;;AACD,SAAOZ,KAAP;AACD,CAxEM","sourcesContent":["export const reducer = (state, action) => {\r\n  //   if (action.type === \"REMOVE_ITEM\") {\r\n  //     return {\r\n  //       ...state,\r\n  //       item: state.item.filter((curElem) => {\r\n  //         return curElem.id !== action.payload;\r\n  //       }),\r\n  //     };\r\n  //   }\r\n\r\n  if (action.type === \"REMOVE_CART\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.filter((curElem) => {\r\n        return curElem.id !== action.payload;\r\n      }),\r\n    };\r\n  }\r\n\r\n  //   if (action.type === \"CLEAR_CART\") {\r\n  //     return { ...state, item: [] };\r\n  //   }\r\n\r\n  if (action.type === \"ADD_TO_CART\") {\r\n    return {\r\n      ...state,\r\n      cart: [...state.cart, { ...action.payload, quantity: 1 }],\r\n    };\r\n  }\r\n\r\n  if (action.type === \"INCREMENT\") {\r\n    const updatedCart = state.cart.map((curElem) => {\r\n      if (curElem.id === action.payload) {\r\n        return { ...curElem, quantity: curElem.quantity + 1 };\r\n      }\r\n      return curElem;\r\n    });\r\n\r\n    return { ...state, cart: updatedCart };\r\n  }\r\n\r\n  if (action.type === \"DECREMENT\") {\r\n    const updatedCart = state.cart\r\n      .map((curElem) => {\r\n        if (curElem.id === action.payload) {\r\n          return { ...curElem, quantity: curElem.quantity - 1 };\r\n        }\r\n        return curElem;\r\n      })\r\n      .filter((curElem) => curElem.quantity !== 0);\r\n    return { ...state, cart: updatedCart };\r\n  }\r\n\r\n  if (action.type === \"GET_TOTAL\") {\r\n    let { totalItem, totalAmount } = state.cart.reduce(\r\n      (accum, curVal) => {\r\n        let { price, quantity } = curVal;\r\n\r\n        let updatedTotalAmount = price * quantity;\r\n        accum.totalAmount += updatedTotalAmount;\r\n\r\n        accum.totalItem += quantity;\r\n        return accum;\r\n      },\r\n      {\r\n        totalItem: 0,\r\n        totalAmount: 0,\r\n      }\r\n    );\r\n    return { ...state, totalItem, totalAmount };\r\n  }\r\n  return state;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}